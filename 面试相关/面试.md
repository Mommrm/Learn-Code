# 海鹚科技二面

## MySQL索引
回答问题要一个一个的引入，有引入才能记得更牢固

Q:什么是索引？介绍一下？
A:索引的话就像是类似于书中的目录，它的作用是帮助存储引擎快速搜索数据的一种数据结构

Q: 索引有哪些？
A： 如果按照数据结构来划分，有三种，分别是B+树索引，hash索引，full-text索引
    按照物理存储结构来划分，有两种，分别是聚簇索引和二级索引
    按照字段特性来划分，有主键索引，普通索引，唯一索引，前缀索引
    按照字段个数来划分，有单列索引，联合索引

Q：MySQL的存储引擎有哪些？他们的区别在哪？
InnoDB，MyISAM、Memory
InnoDB支持事务，支持外键，支持行级锁，支持MVCC，支持聚集索引，支持数据压缩，支持热备份，支持崩溃恢复
MyISAM不支持事务，不支持外键，支持全文索引，支持表级锁，不支持MVCC，不支持聚集索引，不支持数据压缩，不支持热备份，不支持崩溃恢复
Memory存储在内存中，数据易丢失，适合临时表、缓存等场景

Q：什么是聚簇索引和主键索引之间的关系？
A：一般创建一个表的时候InnoDB会根据不同的情况来选择作为B+树索引，有三种情况，创建表时有主键，则选择主键索引，没有主键，则选择第一个非NULL的唯一列的字段，如果上面都没有的情况，就会生成一个隐式自增的id作为B+树索引

Q: B+树是什么？MySQL是如何实现B+树索引的？
B+树一个平衡的多路搜索树，它是一种索引数据结构，用来存储索引数据。

特点：
B+树非叶子节点只存索引，叶子节点存数据 叶子节点的key是索引字段，value是实际数据。且叶子节点是由双向链表来进行连接的。

Q：为什么使用B+树？他和B树(二叉树、Hash)的区别在哪？
A：
B树非叶子节点存储数据，所以的话每个非叶子节点存储的数据量比较大，而B+树只在叶子节点存储数据，所以B树每个非叶子节点存储的索引就比较少，所以每次查询的就要经过多次IO查找，而B+树在相同情况的IO查找下，能查询更多的节点数据。

其次的话B+树的叶子节点是使用双向链表来进行连接的，所以的话就会比较适合一些范围查找，而不用像B树一样需要反复的从每一层节点来进行来回的查找。

二叉树因为每个父节点的子节点只能有两个，每层都需要一次IO操作，查找效率十分低下

Hash值虽然很快，但是不适合一些范围查找。

Q：主键索引和二级索引的B+树结构有什么不同？
主键索引中的B+树中的叶子节点，存放的是索引和实际的数据
而二级索引中的B+树的叶子节点存放的是二级索引和主键索引，如果查询的值在二级索引的B+树中没有找到，就会产生回表，去主键索引的B+树中进行查找

Q：联合索引是什么？
联合索引的话是根据字段个数来进行划分的一种索引，联合索引顾名思义把多个字段联合起来构建成一个索引，对应的B+树结构，叶子节点存放的是联合索引，数据是主键索引，存在最左匹配原则，就是说联合索引中，是根据联合索引中最左边的那个字段来进行条件判断的。
构建联合索引的好处还有，避免回表，就是如果出现要查询的字段在联合索引中，那么就不需要回表了。

Q：联合索引什么时候会失效？



##  MySQL隔离级别

# 奔步一面+二面

## 介绍一下Spring

## Ioc和Aop

## 拦截器介绍一下
实现HandlerInterceptor接口，重写preHandle(request,response,handler)，在controller之前被调用
重写postHandle：控制器方法执行完毕，但仅当preHandle返回true的时候才会执行
重写afterCompletion：在请求处理完毕，视图渲染完毕并且响应已经发送给客户端，preHandle返回true

## 动态代理底层是怎么实现的
反射、字节码、方法调用

## new创建类的过程是在JVM的过程（没答出来) 
1. 类加载检测
2. 分配内存
3. 内存空间初始化
4. 设置对象头
5. 执行构造方法
6. 返回对象引用

## sql语句 group by 和 order by怎么使用

## 在一个订单保存的场景，出现延迟的问题，怎么去排查问题，从哪一方面去排查？
1. 查看系统指标，查看日志
2. SQL优化，数据库事务(锁)

## 反射机制

## 线程池

## git

## 多态是怎么理解的？

## 面向对象和面向过程

## Java容器
两大类：
- collection: List、Set、Queue
- map: 



